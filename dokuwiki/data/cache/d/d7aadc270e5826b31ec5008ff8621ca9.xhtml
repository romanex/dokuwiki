
<h3 class="sectionedit1" id="запрет_кэширования_определенных_файлов">Запрет кэширования определенных файлов</h3>
<div class="level3">

<p>
<br/>

</p>
<pre class="code bash">location ~<span class="sy0">*</span> \.<span class="br0">&#40;</span>csv<span class="sy0">|</span>xls<span class="sy0">|</span>xlsx<span class="br0">&#41;</span>$ <span class="br0">&#123;</span>
   add_header Cache-Control <span class="st0">&quot;no-store, no-cache, private&quot;</span>;
   expires <span class="re5">-1</span>;
<span class="br0">&#125;</span></pre>

<p>
<br/>

</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;\u0417\u0430\u043f\u0440\u0435\u0442 \u043a\u044d\u0448\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0445 \u0444\u0430\u0439\u043b\u043e\u0432&quot;,&quot;hid&quot;:&quot;\u0437\u0430\u043f\u0440\u0435\u0442_\u043a\u044d\u0448\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f_\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0445_\u0444\u0430\u0439\u043b\u043e\u0432&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-217&quot;} -->
<h3 class="sectionedit2" id="запрет_на_открытие_в_iframe">Запрет на открытие в iframe</h3>
<div class="level3">

<p>
<br/>

</p>
<pre class="code bash">add_header X-Frame-Options SAMEORIGIN;</pre>

<p>
<br/>

<br/>

</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;\u0417\u0430\u043f\u0440\u0435\u0442 \u043d\u0430 \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u0435 \u0432 iframe&quot;,&quot;hid&quot;:&quot;\u0437\u0430\u043f\u0440\u0435\u0442_\u043d\u0430_\u043e\u0442\u043a\u0440\u044b\u0442\u0438\u0435_\u0432_iframe&quot;,&quot;codeblockOffset&quot;:1,&quot;secid&quot;:2,&quot;range&quot;:&quot;218-337&quot;} -->
<h3 class="sectionedit3" id="блокировка_путей_начинающийся_с_точки_например_git_svn">Блокировка путей, начинающийся с точки (например, &quot;.git&quot;, &quot;.svn&quot;)</h3>
<div class="level3">
<pre class="code bash">location ~ <span class="sy0">/</span>\. <span class="br0">&#123;</span>
      deny all;
<span class="br0">&#125;</span></pre>

<p>
<br/>

</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;\u0411\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0430 \u043f\u0443\u0442\u0435\u0439, \u043d\u0430\u0447\u0438\u043d\u0430\u044e\u0449\u0438\u0439\u0441\u044f \u0441 \u0442\u043e\u0447\u043a\u0438 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \&quot;.git\&quot;, \&quot;.svn\&quot;)&quot;,&quot;hid&quot;:&quot;\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0430_\u043f\u0443\u0442\u0435\u0439_\u043d\u0430\u0447\u0438\u043d\u0430\u044e\u0449\u0438\u0439\u0441\u044f_\u0441_\u0442\u043e\u0447\u043a\u0438_\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440_git_svn&quot;,&quot;codeblockOffset&quot;:2,&quot;secid&quot;:3,&quot;range&quot;:&quot;338-510&quot;} -->
<h3 class="sectionedit4" id="большинство_хакерских_сканеров">Большинство хакерских сканеров</h3>
<div class="level3">
<pre class="code bas">if ( $http_user_agent ~* (nmap|nikto|wikto|sf|sqlmap|bsqlbf|w3af|acunetix|havij|appscan) ) {
    return 403;
}</pre>

<p>
<br/>

</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;\u0411\u043e\u043b\u044c\u0448\u0438\u043d\u0441\u0442\u0432\u043e \u0445\u0430\u043a\u0435\u0440\u0441\u043a\u0438\u0445 \u0441\u043a\u0430\u043d\u0435\u0440\u043e\u0432&quot;,&quot;hid&quot;:&quot;\u0431\u043e\u043b\u044c\u0448\u0438\u043d\u0441\u0442\u0432\u043e_\u0445\u0430\u043a\u0435\u0440\u0441\u043a\u0438\u0445_\u0441\u043a\u0430\u043d\u0435\u0440\u043e\u0432&quot;,&quot;codeblockOffset&quot;:3,&quot;secid&quot;:4,&quot;range&quot;:&quot;511-710&quot;} -->
<h3 class="sectionedit5" id="удалить_номер_порта_в_ответе">удалить номер порта в ответе</h3>
<div class="level3">
<pre class="code bash">proxy_redirect http:<span class="sy0">//</span>www.site2.com:<span class="nu0">8082</span><span class="sy0">/</span> <span class="sy0">/</span>;</pre>

<p>
<br/>

</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;\u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043d\u043e\u043c\u0435\u0440 \u043f\u043e\u0440\u0442\u0430 \u0432 \u043e\u0442\u0432\u0435\u0442\u0435&quot;,&quot;hid&quot;:&quot;\u0443\u0434\u0430\u043b\u0438\u0442\u044c_\u043d\u043e\u043c\u0435\u0440_\u043f\u043e\u0440\u0442\u0430_\u0432_\u043e\u0442\u0432\u0435\u0442\u0435&quot;,&quot;codeblockOffset&quot;:4,&quot;secid&quot;:5,&quot;range&quot;:&quot;711-839&quot;} -->
<h3 class="sectionedit6" id="сортировка_вывода_лога_сервера">Сортировка вывода лога сервера</h3>
<div class="level3">
<pre class="code bash"><span class="kw2">awk</span> <span class="st_h">'{print $8}'</span> <span class="sy0">/</span>var<span class="sy0">/</span>log<span class="sy0">/</span>nginx<span class="sy0">/</span>askona_ua_access.log <span class="sy0">|</span> <span class="kw2">sort</span> <span class="sy0">|</span> <span class="kw2">uniq</span> <span class="re5">-c</span> <span class="sy0">|</span> <span class="kw2">sort</span> <span class="re5">-rn</span>
&nbsp;
<span class="kw2">awk</span> <span class="st_h">'($8 ~ /404/)'</span> <span class="sy0">/</span>var<span class="sy0">/</span>log<span class="sy0">/</span>nginx<span class="sy0">/</span>askona_ua_access.log <span class="sy0">|</span> <span class="kw2">awk</span> <span class="st_h">'{print $10}'</span> <span class="sy0">|</span> <span class="kw2">sort</span> <span class="sy0">|</span> <span class="kw2">uniq</span> <span class="re5">-c</span> <span class="sy0">|</span> <span class="kw2">sort</span> <span class="re5">-rn</span></pre>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430 \u0432\u044b\u0432\u043e\u0434\u0430 \u043b\u043e\u0433\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430&quot;,&quot;hid&quot;:&quot;\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430_\u0432\u044b\u0432\u043e\u0434\u0430_\u043b\u043e\u0433\u0430_\u0441\u0435\u0440\u0432\u0435\u0440\u0430&quot;,&quot;codeblockOffset&quot;:5,&quot;secid&quot;:6,&quot;range&quot;:&quot;840-&quot;} -->